# Crystal Quest: The Lost Kingdom - Enhanced Edition

An epic story-driven 2D platformer adventure with advanced mechanics, multiple abilities, and boss battles built with HTML5 Canvas and JavaScript.

## Epic Story

Long ago, the Crystal Kingdom flourished with magical energy from six sacred realms, each protected by powerful crystals. But the Shadow Lord Malachar consumed the land, corrupting all six realms and scattering the crystals to the winds. You are **Aria**, the last Crystal Guardian, wielding ancient magic and the power to master legendary abilities. Journey through six mystical realms, unlock powerful abilities, face the Shadow Lord's minions, and restore the eternal light to the Crystal Kingdom!

## Enhanced Features

### üè∞ **Epic Adventure**
- **Rich Storyline**: Deep narrative spanning 6 unique realms with multiple characters
- **Advanced Platformer Physics**: Realistic gravity, enhanced jumping, wall interactions
- **Character Progression**: Unlock powerful abilities as you progress through realms
- **6 Challenging Levels**: Each realm has unique themes, enemies, and mechanics
- **Boss Battles**: Face the Shadow Lord Malachar in epic final confrontation

### ‚öîÔ∏è **Advanced Combat & Abilities**
- **Progressive Ability System**: Unlock Double Jump, Wall Jump, and Dash abilities
- **Magic System**: Cast magical projectiles using mana (Q key)
- **Enhanced Jump Mechanics**: Double jump in air, wall jump off surfaces, dash through obstacles
- **Mana Management**: Strategic resource management for magical abilities
- **Invulnerability Frames**: Brief protection after taking damage

### üíé **Collectibles & Items**
- **10+ Crystal Types**: Blue, Red, Green, Purple, Gold, Diamond, Rainbow, Shadow, Void, Master, Ultimate
- **Power-Up Items**: Health Potions, Mana Potions, Ability Boots, Resistance Items
- **Ability Unlocks**: Find special items to gain new movement abilities
- **Full Restoration Items**: Rare items that completely restore health and mana

### üëπ **Diverse Enemies & Bosses**
- **12 Enemy Types**: Goblins, Orcs, Cave Spiders, Wind Spirits, Sky Guardians, Shadow Wraiths, Shadow Beasts, Void Stalkers
- **Boss Battle**: Epic final confrontation with Shadow Lord Malachar
- **Enemy Projectiles**: Dodge shadow magic attacks from powerful foes
- **Varied AI**: Different movement patterns and attack strategies per enemy type

### üé≠ **Rich Character Cast**
- **Aria** (Player): Enhanced Crystal Guardian with growing magical powers
- **Elder Thorne**: Wise sage who guides your initial journey
- **Sir Gareth**: Noble knight who teaches combat wisdom
- **Dwarf Borin**: Experienced miner who knows the cavern secrets
- **Aerion the Wind Walker**: Sky mage master of aerial magic
- **Umbra the Keeper**: Mysterious guardian of shadow realm secrets
- **Princess Luna**: The kingdom's ruler awaiting your triumphant return
- **Shadow Lord Malachar**: The primary antagonist and final boss

### üé® **Visual & Audio Excellence**
- **Dynamic Backgrounds**: Each realm has unique atmospheric effects
- **Particle Systems**: Magic effects, explosions, ability usage, crystal collection
- **Enhanced Animations**: Smooth character movement and ability effects
- **Realm-Specific Themes**: Visual design changes based on current realm
- **UI Enhancements**: Health bars, mana bars, ability status indicators

## How to Play

1. Open `index.html` in your web browser
2. Click "Begin Quest" to start your epic adventure
3. Use **A/D** or **Arrow Keys** to move Aria left and right
4. Press **W**, **‚Üë**, or **SPACE** to jump (Double Jump when unlocked)
5. Press **SHIFT** to dash through the air (when unlocked)
6. Press **Q** to cast magic projectiles (consumes mana)
7. Press **E** to interact with NPCs, collect items, and advance dialogue
8. Collect all crystals in each realm to progress to the next
9. Find special items to unlock new abilities
10. Manage your health and mana strategically
11. Defeat the Shadow Lord Malachar to restore all 6 realms!

## Advanced Game Mechanics

### üí™ **Ability Progression System**
- **Double Jump**: Unlock in Level 2 - Jump twice in the air for greater mobility
- **Wall Jump**: Unlock in Level 3 - Jump off walls to reach new heights
- **Dash**: Unlock in Level 4 - Dash through the air to cross large gaps
- **Magic Combat**: Cast projectiles that damage enemies and bosses

### ‚ù§Ô∏è **Health & Mana System**
- **Health**: Starts at 100, increases with certain items, regenerates with potions
- **Mana**: Starts at 100, used for magic attacks, regenerates slowly over time
- **Invulnerability Frames**: 1 second of protection after taking damage
- **Strategic Resource Management**: Balance health and mana usage for optimal gameplay

### üíé **Enhanced Crystal Collection**
- **10+ Crystal Types**: Blue, Red, Green, Purple (common), Gold, Diamond (rare), Rainbow, Shadow, Void (special), Master, Ultimate (legendary)
- **Realm Progression**: Collect ALL crystals in each realm to advance
- **Mana Restoration**: Crystals restore 20 mana when collected
- **Visual Effects**: Each crystal type has unique colors and effects

### üéØ **Combat & Enemy System**
- **12 Unique Enemy Types**: Each with different health, damage, speed, and AI patterns
- **Boss Battle**: Shadow Lord Malachar with 10 health and multiple attack patterns
- **Enemy Projectiles**: Dodge magical attacks from advanced enemies
- **Magic Combat**: Use Q to cast projectiles that deal 2 damage to enemies
- **Knockback System**: Get knocked back when hit for dynamic combat feel

### üè∞ **Realm Design & Progression**
- **6 Unique Realms**: Each with distinct visual themes, enemies, and challenges
- **Progressive Difficulty**: Each realm introduces new mechanics and challenges
- **Environmental Storytelling**: Visual design reflects the corruption and restoration theme
- **Dynamic Backgrounds**: Realm-specific atmospheric effects and color schemes

## Characters

- **Aria** (Player): The last guardian of the Crystal Kingdom, wielding magical powers
- **Old Sage**: A wise wizard who provides guidance on your quest
- **Princess Luna**: The kingdom's princess who awaits your success
- **Goblins**: Small, fast enemies that patrol platforms
- **Orcs**: Larger, slower but more dangerous enemies
- **Dragons**: Powerful flying enemies found in later levels

## Enhanced Controls

### üéÆ **Basic Movement**
- **Move Left/Right**: A/D or ‚Üê ‚Üí Arrow Keys
- **Jump**: W or ‚Üë or SPACEBAR
- **Interact**: E (NPCs, items, dialogue advancement)

### ‚ö° **Advanced Abilities** (Unlock as you progress)
- **Double Jump**: W/‚Üë/SPACE while in air (after unlocking Double Jump Boots)
- **Wall Jump**: W/‚Üë/SPACE while touching a wall (after unlocking Wall Jump Gloves)  
- **Dash**: SHIFT (after unlocking Dash Boots) - 1 second cooldown
- **Magic Attack**: Q (consumes 30 mana) - 0.8 second cooldown

### üéØ **Game Controls**
- **Start Adventure**: Click "Begin Quest"
- **Continue Dialogue**: Click "Continue" button
- **Restart Game**: Click "Try Again" or "Play Again" after game over/victory

## The Six Mystical Realms

### üå∏ **Realm 1: The Forgotten Gardens**
- **Theme**: Peaceful gardens corrupted by shadow
- **New Mechanics**: Basic platforming tutorial
- **Crystals**: 4 crystals (Blue, Red, Green, Purple)
- **Items**: Health Potion
- **Enemies**: Goblins (basic patrol enemies)
- **NPC**: Elder Thorne (wise sage mentor)
- **Story**: Learn about the corruption and begin your quest

### üèõÔ∏è **Realm 2: The Ancient Ruins**
- **Theme**: Crumbling stone structures and ancient magic
- **New Mechanics**: Unlock Double Jump ability
- **Crystals**: 5 crystals (Blue, Red, Green, Purple, Gold)
- **Items**: Double Jump Boots, Mana Potion
- **Enemies**: Goblins, Orcs (stronger, slower enemies)
- **NPC**: Sir Gareth (noble knight)
- **Story**: Learn about the ancient kingdom's history

### üï≥Ô∏è **Realm 3: The Crystal Caverns**
- **Theme**: Underground crystal mines and dark tunnels
- **New Mechanics**: Unlock Wall Jump ability
- **Crystals**: 6 crystals (Blue, Red, Green, Purple, Gold, Diamond)
- **Items**: Wall Jump Gloves, Health Potion
- **Enemies**: Cave Spiders (fast), Orcs
- **NPC**: Dwarf Borin (experienced miner)
- **Story**: Discover the source of the crystal magic

### ‚òÅÔ∏è **Realm 4: The Floating Citadel**
- **Theme**: Sky-high platforms and wind magic
- **New Mechanics**: Unlock Dash ability
- **Crystals**: 7 crystals (includes Rainbow crystal)
- **Items**: Dash Boots, Mana Potion, Health Potion
- **Enemies**: Wind Spirits (flying), Sky Guardians (aerial combat)
- **NPC**: Aerion the Wind Walker (sky mage)
- **Story**: Master the power of air and movement

### üåë **Realm 5: The Shadow Realm**
- **Theme**: Dark, corrupted landscape with shadow magic
- **New Mechanics**: Shadow resistance and void crystals
- **Crystals**: 8 crystals (includes Shadow and Void types)
- **Items**: Shadow Resistance, Mana Potion, Health Potion
- **Enemies**: Shadow Wraiths, Shadow Beasts, Void Stalkers
- **NPC**: Umbra the Keeper (shadow realm guardian)
- **Story**: Confront the heart of the corruption

### üëë **Realm 6: The Final Sanctum**
- **Theme**: Golden temple where light and shadow clash
- **New Mechanics**: Boss battle with Shadow Lord Malachar
- **Crystals**: 7 crystals (Master and Ultimate types)
- **Items**: Ultimate Power, Full Restore
- **Enemies**: Shadow Lord Malachar (final boss with 10 health)
- **NPC**: Princess Luna (kingdom's ruler)
- **Story**: Epic final confrontation and kingdom restoration

## Technical Details

- Built with vanilla JavaScript (no external dependencies)
- Uses HTML5 Canvas for rendering with smooth 60 FPS gameplay
- Delta time-based physics for consistent performance
- Object-oriented design with separate classes for all game entities
- Smooth camera system that follows the player
- Particle system for visual effects
- Responsive CSS design that adapts to different screen sizes
- Collision detection system for platforms, enemies, and collectibles

## Files Structure

- `index.html` - Main HTML file with game canvas, UI, and dialogue system
- `style.css` - Fantasy-themed styling with golden accents and magical effects
- `game.js` - Complete platformer engine with story, physics, and all game classes
- `README.md` - This comprehensive documentation

## Browser Compatibility

Works in all modern browsers that support HTML5 Canvas:
- Chrome 4+
- Firefox 2+
- Safari 3.1+
- Edge (all versions)
- Opera 9+

## Future Enhancements

Potential features that could be added:
- Sound effects and magical background music
- More levels and expanded storyline
- Power-ups and magical abilities for Aria
- Boss battles with unique mechanics
- Save system for progress tracking
- Achievement system
- Mobile touch controls
- Animated character sprites
- Weather effects and dynamic backgrounds
- Voice acting for dialogue

## Pro Tips for Crystal Guardians

### üéØ **Combat Strategy**
- **Master Your Abilities**: Each ability has strategic uses - double jump for height, wall jump for tight spaces, dash for gaps
- **Mana Management**: Magic attacks are powerful but costly - use them strategically on stronger enemies
- **Invulnerability Timing**: Use the 1-second protection after damage to pass through enemies safely
- **Boss Battle**: The Shadow Lord has 10 health - use magic attacks and avoid his projectile spreads

### üó∫Ô∏è **Exploration & Progression**
- **Thorough Exploration**: Some crystals and items are hidden in hard-to-reach places
- **Ability Progression**: Each realm unlocks new movement options - master them for later challenges
- **Resource Collection**: Collect every crystal and item - you need ALL crystals to progress
- **NPC Interactions**: Talk to every character multiple times for deeper story and gameplay hints

### ‚ö° **Advanced Techniques**
- **Wall Jump Chains**: Combine wall jumps with double jumps for maximum height
- **Dash Timing**: Dash has a 1-second cooldown - time it perfectly for long gap sequences
- **Magic Combat**: Projectiles travel fast and deal good damage - great for flying enemies
- **Health/Mana Balance**: Use potions strategically and remember crystals restore mana

### üèÜ **Completion Goals**
- **Perfect Runs**: Try to complete realms without taking damage
- **Speed Challenges**: Master the movement system for faster completion times
- **Story Appreciation**: Read all dialogue for the full epic narrative experience
- **Ability Mastery**: Become proficient with all movement abilities for the ultimate platforming experience

Embark on your epic quest through six mystical realms and become the legendary Crystal Guardian! ‚öîÔ∏èüè∞‚ú®

**May the light of the crystals guide your path to victory!**
